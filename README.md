# Try-Game-A-Week 4/26 ～ 5/2

4/26 ～ 5/2の一週間で、試しにGame A Weekを個人的にやってみたいと思います！
5/2に、MasterブランチにUnityプロジェクトファイルを公開するので、動作確認されたバージョンのUnityをインストールし、このブランチをクローンするかもしくはZIP形式でダウンロードして、Unityで実際にプレイしてみてください。

![Desktop 2020 05 03 - 00 51 46 01_Moment](https://user-images.githubusercontent.com/41467408/80914361-0a876180-8d86-11ea-90bd-d6083f50c95e.jpg)


　↓進捗状況もここに記録します。
## プレイヤーの移動を実装（4/26 ~ 4/27）
　プレイヤーの移動をリジッドボディで実装。動きのもっさり感を抵抗力で解消するようにプログラミング。プレイヤーの向きはマウスポインタの方向に向くようプログラムを作成。

## 通常攻撃（4/27）
　マウスクリックで通常射撃で、弾丸を発射するように実装。長押しで一定間隔で発射される。2発目以降は若干ぶれるようになっている。
　発射時のマズルフラッシュや、壁にヒットしたときのエフェクトも作成。

## 敵の追加と追尾レーザー（4/28）
  敵を追加し、当たり判定とHPの概念をプログラム。Hit時や、倒れる際のエフェクトも同時に作成。
  
  また、攻撃に追尾レーザーを追加。運動方程式を用いて、任意の時間に着弾でき、初速などを変更することで挙動も変更可能になっている。発動は右クリック長押しでで対象をロックオンし、離すと発射する。

## 攻撃タイプ切り替えとリロード・リチャージ（4/29）
  弾丸の残弾数を定義し、リロードが必要になるように実装。任意の時にRキーを押すことでリロードすることができる。
  
  また、追尾レーザーは一度使用すると、一定時間は使用できないように実装。
  
  そして二つの攻撃をEキーで切り替えるように変更し、レーザーのロックオンには左クリックでできるように変更。

## 敵AIの攻撃（4/30）
  ナビゲーションの機能を使い、プレイヤーと一定の距離になり、射線が通る状態になると遠距離攻撃を行うように実装。攻撃を行う際には、移動速度が遅くなる。

## GameManager実装（5/1～5/2）
  ゲーム全体を管理するGameManagerを実装。ゲーム全体を3つの状態とし（Ready・Play・End）、プレイヤーの状態などからそれぞれの状態に遷移させてゲーム全体の流れを司る。同時に敵の撃破数、Wave数、撃退数などに応じてスコアを算出し、GameOver画面に表示する。
　
敵のスポーンはプレイヤーに遠い位置のビーコンを選択し、毎ウェーブ時に選択したビーコンに生成を行う。敵全体の生成数を決め、生成する際に一定確率で中程度のの敵が生成されるようになっている。
  
